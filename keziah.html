<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caesar Cipher Decryption Game</title>
    <link href='https://fonts.googleapis.com/css?family=Alata' rel='stylesheet'>
    <style>
       
        body {
            font-family: 'Alata';
            font-size: 22px;
            text-align: center;
        }
        h1 {
            color: #333;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            border: 3px solid #ccc;
            border-radius: 5px;
            background-color: #e7f3ea;
            font-family: 'Alata';
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-family: 'Alata';
        }
        input[type="number"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-family: 'Alata';
        }
        button {
            background-color: #1f7039;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            margin-bottom: 20px;
            font-family: 'Alata';
            box-shadow: 4px 4px 6px rgba(0, 0, 0, 0.2);
        }
        button:hover {
            background-color: #0e4b2b;
            box-shadow: 6px 6px 8px rgba(0, 0, 0, 0.2);

        }
        #result {
            font-weight: bold;
            margin-top: 10px;
            text-align: left;
        }
        .box{
            font-size: 15px; ;
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            border: 3px solid #ccc;
            border-radius: 5px;
            background-color: #d0e7d6;
            line-height: 15px;
            font-family: 'Alata';
        }
    </style>
</head>
<body>
    <h1>Caesar Cipher Decryption Game</h1>
    <h3>Have a go at decrypting a caeser cipher!</h3>
    <div class="container">
        <p id="encryptedMessage"></p>
        <label for="shiftGuess">Your Shift Guess:</label>
        <input type="number" id="shiftGuess" placeholder="Enter a number between 1 and 25">
        <button onclick="decryptMessage()">Decrypt Message</button>
        <p id="decryptedMessage"></p>
        <p id="checkResult"></p>
    </div>

    <h2>What is a caeser cipher?</h2>
    <div class="box">
    <p> It is a type of substitution cipher where each letter in the plaintext is shifted a certain number of places down or up the alphabet.</p>

    <p>For example, with a shift of 3: </p>  
    <p>  'A' becomes 'D'</p>
        <p>  'B' becomes 'E'</p>
            <p>  'C' becomes 'F'</p>

    </div>
    <script>
        var potentialMessages = [
            "Hello world!",
            "You are a cipher genuis!",
            "Ada lovelace"
        ];

        // Function to encrypt and decrypt the message
        function decryptMessage() {
            var messageIndex = Math.floor(Math.random() * potentialMessages.length); // Randomly choose a message index
            var message = potentialMessages[messageIndex].toLowerCase(); // Chosen message
            var shiftGuess = parseInt(document.getElementById("shiftGuess").value); // User's shift guess
            var encryptedMessage = ""; // Variable to store the encrypted message
            var decryptedMessage = ""; // Variable to store the decrypted message
           
            // Encrypt the message using a randomly generated shift value
            var shift = Math.floor(Math.random() * 25) + 1; // Randomly generated shift value
            for (var i = 0; i < message.length; i++) {
                var charCode = message.charCodeAt(i);
                if (charCode >= 97 && charCode <= 122) { // Lowercase letters
                    encryptedMessage += String.fromCharCode((charCode - 97 + shift) % 26 + 97);
                } else {
                    encryptedMessage += message.charAt(i);
                }
            }

            // Display the encrypted message initially
            document.getElementById("encryptedMessage").innerText = "Encrypted Message: " + encryptedMessage;

            // Decrypt the message using the user's guess
            for (var i = 0; i < encryptedMessage.length; i++) {
                var charCode = encryptedMessage.charCodeAt(i);
                if (charCode >= 97 && charCode <= 122) { // Lowercase letters
                    decryptedMessage += String.fromCharCode((charCode - 97 - shiftGuess + 26) % 26 + 97);
                } else {
                    decryptedMessage += encryptedMessage.charAt(i);
                }
            }
           
            // Display the decrypted message
            document.getElementById("decryptedMessage").innerText = "Decrypted Message: " + decryptedMessage;
           
            // Check if the decrypted message matches the original message
            if (potentialMessages.includes(decryptedMessage)) {
                document.getElementById("checkResult").innerText = "Congratulations! You guessed the correct shift value!";
            } else {
                document.getElementById("checkResult").innerText = "Sorry, that's incorrect. Keep guessing!";
            }
        }

        // Display the initial encrypted message when the page loads
        window.onload = decryptMessage;
    </script>
</body>
</html>
